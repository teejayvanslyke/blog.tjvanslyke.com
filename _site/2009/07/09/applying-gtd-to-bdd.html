
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang='us-EN' xml:lang='us-EN' xmlns='http://www.w3.org/1999/xhtml'>
  <head>
    <meta content='text/html; charset=UTF-8' http-equiv='content-type' />
    <title>T.J. VanSlyke - Blog - Applying GTD to BDD </title>
    <meta content='The professional dossier of T.J. VanSlyke, web developer and software engineer.' name='description' />
    <meta content='web, rails, ruby, javascript, jquery, user interface, developer, software' name='keywords' />
    <script src="http://assets0.tjvanslyke.com.s3.amazonaws.com/javascripts/all.js?1243828794" type="text/javascript"></script>
    <link href="http://assets0.tjvanslyke.com.s3.amazonaws.com/stylesheets/all.css?1243828794" media="screen" rel="stylesheet" type="text/css" />

    <!--[if IE]>
    <link href="http://assets1.tjvanslyke.com.s3.amazonaws.com/stylesheets/blueprint/ie.css?1246823864" media="screen, projection" rel="stylesheet" type="text/css" />
    <link href="http://assets3.tjvanslyke.com.s3.amazonaws.com/stylesheets/ie.css?1246823864" media="screen, projection" rel="stylesheet" type="text/css" />
    <![endif]-->

    <link href="/stylesheets/syntax.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="/stylesheets/screen.css" media="screen" rel="stylesheet" type="text/css" />


    <script type="text/javascript">
      //<![CDATA[
    var section = 'posts'
    $(function() {

        });
//]]>
</script>
  </head>
  <body>
    <link href="http://blog.tjvanslyke.com/feed" rel="alternate" title="RSS" type="application/rss+xml" />

    <div id='header'>
      <div class='container'>
        <div class='span-24 last'>
          <div class='span-8'>

            <h1>
              <a href="http://www.tjvanslyke.com/" class="typeface-js">T.J. VanSlyke</a>
            </h1>
          </div>

          <div class='span-16 last'>
            <h2 class='blog'>Blog.</h2>
          </div>

          <div class='span-24 last'>
            <div class='navigation typeface-js'>
              <span class='blog'><a href="/">Blog</a></span>
              <span class='pipe'>/</span>

              <span class='skills'><a href="http://tjvanslyke.com/skills">Skills</a></span>
              <span class='pipe'>/</span>
              <span class='projects'><a href="http://tjvanslyke.com/projects">Projects</a></span>

              <span class='pipe'>/</span>
              <span class='history'><a href="http://tjvanslyke.com/history">History</a></span>
            </div>

          </div>
        </div>
      </div>
    </div>
    <div class='container'>

      <div id='content'>
        <div class='span-24 last' id='body'>
          <div class='span-8'>

            <div id='sidebar'>
              <!--<div class="block">
                <h3>Recent Posts</h3>
                <ul>
                  <li><a href="/2009/10/22/aggregate-statistics-for-delayed_job-with-delayed_job_stats" title="Aggregate statistics for delayed_job with delayed_job_stats">Aggregate statistics for delayed_job with delayed_job_stats</a></li>
                </ul>
              </div>-->
              <div class='block'>
                <h3>Huh?</h3>
                <p>
                Hi.  I'm T.J. VanSlyke and I live and work in Portland, Oregon.  I have been
                developing Rails applications since version 1.1 and programming nearly my entire
                life.  I'm currently available for your small, medium, or large development
                project.
                </p>
              </div>

              <div class='block'>

                <script type="text/javascript"><!--
                  google_ad_client = "pub-0047314205114175";
                  /* tjvanslyke.com sidebar */
                  google_ad_slot = "2336311333";
                  google_ad_width = 300;
                  google_ad_height = 250;
                  //-->
                  </script>
                  <script type="text/javascript"
                    src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
                    </script>
                  </div>
                </div>
              </div>

              <div class="span-16 last">
                <div id="content">




              <div id="main">
                  <div class="post entry-23456269352160">
                    <h4>Applying GTD to BDD</h4>
                    <h4>Collect</h4>
<p>Until recently I found myself writing single <code>describe</code> and <code>it</code> blocks, making them pass, and repeating the process.  While this can work just fine for simple classes where you can picture the implementation before writing it, this method leaves gaps in your understanding of larger, more complex classes and modules.  To ensure you&#8217;ve captured <em>all</em> of a class&#8217;s behavior, go through a brainstorming exercise to holistically evaluate the behavior of a class from the top down.  First, establish some contexts for which there will be differing behavior:</p>
<div class="highlight"><pre><span class="n">describe</span> <span class="no">Airplane</span> <span class="k">do</span>
  <span class="n">context</span> <span class="s2">&quot;- When in the air&quot;</span>
  <span class="n">context</span> <span class="s2">&quot;- When on the ground&quot;</span>
  <span class="n">context</span> <span class="s2">&quot;- After landing&quot;</span>
  <span class="n">context</span> <span class="s2">&quot;- Before takeoff&quot;</span>
  <span class="n">context</span> <span class="s2">&quot;- When spiraling toward imminent death&quot;</span>
<span class="k">end</span>
</pre>
</div><p>Continue to scribble down all of the possible contexts in which your class or module will exhibit different behavior.  Don&#8217;t hesitate to include anything and everything, as we&#8217;ll prune and organize your thoughts soon.</p>
<p>Our next step is to continue drilling down into the individual behaviors across each context.  Again, don&#8217;t be shy about including everything on your mind:</p>
<div class="highlight"><pre><span class="n">describe</span> <span class="no">Airplane</span> <span class="k">do</span>
  <span class="n">context</span> <span class="s2">&quot;- When in the air&quot;</span> <span class="k">do</span>
    <span class="n">it</span> <span class="s2">&quot;should be flying&quot;</span>
    <span class="n">it</span> <span class="s2">&quot;should not be on the ground&quot;</span>
    <span class="n">it</span> <span class="s2">&quot;should have a pilot&quot;</span>
    <span class="n">it</span> <span class="s2">&quot;should have a copilot&quot;</span>
    <span class="n">it</span> <span class="s2">&quot;should have payload&quot;</span>
  <span class="k">end</span>
  <span class="o">.</span><span class="n">.</span><span class="o">.</span>
<span class="k">end</span>
</pre>
</div><p>You might encounter scenarios in your mind wherein additional contexts are required.  This is a good time to adjust your contexts so implementation becomes a matter of working through your spec like a checklist.  You may also encounter scenarios where a sub-context is required.  For example, we might want to allow the plane to have no passengers if the pilot is in training:</p>
<div class="highlight"><pre><span class="n">describe</span> <span class="no">Airplane</span> <span class="k">do</span>
  <span class="n">context</span> <span class="s2">&quot;- When in the air&quot;</span> <span class="k">do</span>
    <span class="n">it</span> <span class="s2">&quot;should be flying&quot;</span>
    <span class="n">it</span> <span class="s2">&quot;should not be on the ground&quot;</span>
    <span class="n">it</span> <span class="s2">&quot;should have a pilot&quot;</span>
    <span class="n">it</span> <span class="s2">&quot;should have a copilot&quot;</span>
    <span class="n">context</span> <span class="s2">&quot;and the pilot is in training&quot;</span> <span class="k">do</span>
      <span class="n">it</span> <span class="s2">&quot;should have no payload&quot;</span>
    <span class="k">end</span>
    <span class="n">context</span> <span class="s2">&quot;and the pilot is not in training&quot;</span> <span class="k">do</span>
      <span class="n">it</span> <span class="s2">&quot;should have payload&quot;</span>
    <span class="k">end</span>
  <span class="k">end</span>
  <span class="o">.</span><span class="n">.</span><span class="o">.</span>
<span class="k">end</span>
</pre>
</div><h4>Process</h4>
<p>Now that we&#8217;ve exhausted our imaginations of all the possible behaviors for our class, it&#8217;s time to begin <strong>processing</strong> them so we know which can be implemented and which might require more attention.  Go down your behavior tree item by item and evaluate whether the behavior you&#8217;ve described fits within the product owner&#8217;s expectation for the user story to which this class or module belongs.  If you&#8217;re unsure, add a <code>pending</code> tag with a note:</p>
<div class="highlight"><pre><span class="n">describe</span> <span class="no">Airplane</span> <span class="k">do</span>
  <span class="n">context</span> <span class="s2">&quot;- When in the air&quot;</span> <span class="k">do</span>
    <span class="o">.</span><span class="n">.</span><span class="o">.</span>
    <span class="n">it</span> <span class="s2">&quot;should have a copilot&quot;</span> <span class="k">do</span>
      <span class="n">pending</span> <span class="s2">&quot;We&#39;re waiting on a specification from the PO -- he never told us whether planes can be run by a single pilot.&quot;</span>
    <span class="k">end</span>
    <span class="o">.</span><span class="n">.</span><span class="o">.</span>
  <span class="k">end</span>
  <span class="o">.</span><span class="n">.</span><span class="o">.</span>
<span class="k">end</span>
</pre>
</div><p>By doing this, you&#8217;ve kept your uncertainty logged in the codebase in such a way it will be seen <em>every</em> time you run your test suite.  This than adding a <code>REVIEW</code> or <code>TODO</code> item in your production code, since the addendum will be linked to a behavior rather than implementation.</p>
<p>Next, evaluate whether any of the behaviors can be done away with entirely.  Have a colleague look over your specification and I&#8217;m sure you&#8217;ll find a few points of disagreement.</p>
<p>After coming to agreement about the class&#8217;s behaviors, go ahead and delegate the decision making on your pending items to your product owner.</p>
<h4>Organize</h4>
<p>Now that you&#8217;ve processed each behavior and determined whether it can and should be implemented, we can begin the process of reorganizing and polishing our context tree to ensure it is readable and maintainable by whomever might have the pleasure of maintaining your code in the future.  In RSpec, specdoc is your secret weapon:</p>
<div class="highlight"><pre><span class="nv">$ </span>spec airplane_spec.rb -fs

Airplane - When in the air
- should be flying <span class="o">(</span>PENDING: Not Yet Implemented<span class="o">)</span>
- should not be on the ground <span class="o">(</span>PENDING: Not Yet Implemented<span class="o">)</span>
- should have a pilot <span class="o">(</span>PENDING: Not Yet Implemented<span class="o">)</span>
- should have a copilot <span class="o">(</span>PENDING: We<span class="err">&#39;</span>re waiting on a specification from the PO -- he never told us whether planes can be run by a single pilot.<span class="o">)</span>

Airplane - When in the air and the pilot is in training
- should have no payload <span class="o">(</span>PENDING: Not Yet Implemented<span class="o">)</span>

Airplane - When in the air and the pilot is not in training
- should have payload <span class="o">(</span>PENDING: Not Yet Implemented<span class="o">)</span>

...
</pre>
</div><p>Ask yourself the following questions:</p>
<ol>
	<li>Do each of the contexts and behaviors read like English?</li>
	<li>Can you derive a <em>reason</em> for implementing each behavior, or is the specific reason noted in the behavior?</li>
	<li>Would you feel confident handing the specdoc output to your PO for review?</li>
</ol>
<p>Amend your behavior descriptions until you can answer &#8216;yes&#8217; to these three questions with confidence.</p>
<h4>Review</h4>
<p>In nearly every team I&#8217;ve worked with, this tends to be the most overlooked of all five principles in <span class="caps">GTD</span>.  Once per week, you and/or your team should take the time to review the following buckets of items:</p>
<ul>
	<li>Pending RSpec examples</li>
	<li>Items flagged by <code>rake notes</code> (<code>TODO</code>, <code>FIXME</code>, etc)</li>
</ul>
<p>Time box your effort to an hour or two, and ensure that each item is resolved, either immediately, or with a followup action.</p>
<h4>Do</h4>
<p>You&#8217;ve deliberated on the most effective way to move forward with your implementation.  You&#8217;ve constructed a well-tailored checklist of behaviors to be implemented, and can now say with confidence that the behaviors described match your requirements.  March on valiantly and implement them!  I&#8217;ll leave this step to you, fine readers.</p>
<p>No matter your <span class="caps">BDD</span> experience level, I hope this provides you with a useful framework through which to conduct your day-to-day development activities.  Stay focused, review often, and most of all, have fun.</p>
                  </div>

                    <script type="text/javascript"><!--
                      google_ad_client = "pub-0047314205114175";
                      /* blog.tjvanslyke.com, banner */
                      google_ad_slot = "3373941054";
                      google_ad_width = 468;
                      google_ad_height = 60;
                      //-->
                      </script>
                      <script type="text/javascript"
                        src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
                        </script>



                      </div>



                    </div>
                  </div>
                </body>
                <script type='text/javascript'>
                  var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
                  document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
                  </script>
                  <script type='text/javascript'>
                    try {
                      var pageTracker = _gat._getTracker("UA-8268183-1");
                      pageTracker._trackPageview();
                    } catch(err) {}
                  </script>
                </html>

